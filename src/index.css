@import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Background colors */
    --background: 210 50% 98%;
    --foreground: 222 47% 11%;

    /* Card surfaces */
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;

    /* Popover surfaces */
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    /* Primary - Bright Blue */
    --primary: 199 89% 48%;
    --primary-foreground: 0 0% 100%;

    /* Secondary - Light Blue Gray */
    --secondary: 210 40% 96%;
    --secondary-foreground: 222 47% 11%;

    /* Muted surfaces */
    --muted: 210 40% 96%;
    --muted-foreground: 215 16% 47%;

    /* Accent - Light Blue */
    --accent: 199 89% 95%;
    --accent-foreground: 199 89% 48%;

    /* Destructive */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    /* Borders and inputs */
    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --ring: 199 89% 48%;

    --radius: 0.75rem;

    /* Custom colors for tasks */
    --task-orange: 25 95% 53%;
    --task-green: 142 71% 45%;
    --task-teal: 173 80% 40%;
    --task-pink: 330 81% 60%;
    --task-purple: 258 90% 66%;
    --task-yellow: 45 93% 47%;

    /* Gradients */
    --gradient-hero: linear-gradient(135deg, hsl(210 50% 98%) 0%, hsl(199 89% 97%) 100%);
    --gradient-card: linear-gradient(180deg, hsl(0 0% 100%) 0%, hsl(210 40% 98%) 100%);
    --gradient-primary: linear-gradient(135deg, hsl(199 89% 48%) 0%, hsl(199 89% 38%) 100%);

    /* Shadows */
    --shadow-sm: 0 1px 2px 0 hsl(222 47% 11% / 0.05);
    --shadow-md: 0 4px 6px -1px hsl(222 47% 11% / 0.07), 0 2px 4px -2px hsl(222 47% 11% / 0.05);
    --shadow-lg: 0 10px 15px -3px hsl(222 47% 11% / 0.08), 0 4px 6px -4px hsl(222 47% 11% / 0.05);
    --shadow-xl: 0 20px 25px -5px hsl(222 47% 11% / 0.1), 0 8px 10px -6px hsl(222 47% 11% / 0.08);
    --shadow-glow: 0 0 40px hsl(199 89% 48% / 0.15);

    /* Sidebar */
    --sidebar-background: 220 20% 14%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 199 89% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 220 15% 20%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 220 15% 22%;
    --sidebar-ring: 199 89% 48%;

    /* GitHub Contribution Graph - Light Mode */
    --level-0: #ebedf0;
    --level-1: #9be9a8;
    --level-2: #40c463;
    --level-3: #30a14e;
    --level-4: #216e39;
  }

  .dark {
    --background: 0 0% 0%;
    --foreground: 210 40% 98%;

    --card: 222 47% 8%;
    --card-foreground: 210 40% 98%;

    --popover: 222 47% 8%;
    --popover-foreground: 210 40% 98%;

    --primary: 199 89% 48%;
    --primary-foreground: 0 0% 100%;

    --secondary: 217 33% 17%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217 33% 17%;
    --muted-foreground: 215 20% 65%;

    --accent: 217 33% 17%;
    --accent-foreground: 199 89% 60%;

    /* Dark mode gradients */
    --gradient-hero: linear-gradient(135deg, hsl(222 47% 6%) 0%, hsl(222 47% 10%) 100%);
    --gradient-card: linear-gradient(180deg, hsl(222 47% 8%) 0%, hsl(222 47% 6%) 100%);

    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;

    --border: 217 33% 17%;
    --input: 217 33% 17%;
    --ring: 199 89% 48%;

    --sidebar-background: 222 47% 4%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 199 89% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 222 47% 10%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 222 47% 12%;
    --sidebar-ring: 199 89% 48%;

    /* GitHub Contribution Graph - Dark Mode */
    --level-0: #161b22;
    --level-1: #0e4429;
    --level-2: #006d32;
    --level-3: #26a641;
    --level-4: #39d353;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
  }

  html {
    scroll-behavior: smooth;
    scrollbar-width: none;
    /* Firefox */
  }

  body {
    -ms-overflow-style: none;
    /* IE and Edge */
  }

  /* Hide scrollbar for Chrome, Safari and Opera */
  ::-webkit-scrollbar {
    display: none;
  }
}

@layer components {
  .glass-card {
    @apply bg-card/80 backdrop-blur-md border border-border/50 shadow-lg;
  }

  .gradient-text {
    @apply bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent;
  }

  .floating-element {
    animation: float 6s ease-in-out infinite;
  }

  .hero-gradient {
    background: var(--gradient-hero);
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .animate-delay-100 {
    animation-delay: 100ms;
  }

  .animate-delay-200 {
    animation-delay: 200ms;
  }

  .animate-delay-300 {
    animation-delay: 300ms;
  }

  .animate-delay-500 {
    animation-delay: 500ms;
  }
}

/* Animations */
@keyframes float {

  0%,
  100% {
    transform: translateY(0px);
  }

  50% {
    transform: translateY(-20px);
  }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slide-in-left {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slide-in-right {
  from {
    opacity: 0;
    transform: translateX(30px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes pulse-glow {

  0%,
  100% {
    box-shadow: 0 0 20px hsl(199 89% 48% / 0.3);
  }

  50% {
    box-shadow: 0 0 40px hsl(199 89% 48% / 0.5);
  }
}

/* Editor Overrides */
.ZYNC-editor-overrides .bn-editor {
  @apply bg-transparent;
  /* padding-inline: 0 !important; Removed to fix cursor/selection issues */
}

/* 
.ZYNC-editor-overrides .bn-block-content {
   Ensure font integration 
}
*/

/* Custom Scrollbar for Editor */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  @apply bg-muted-foreground/20 rounded-full;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  @apply bg-muted-foreground/40;
}

/* Premium Thin Scrollbar Utilities */
.scrollbar-thin::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background: #27272a;
  border-radius: 3px;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background: #3f3f46;
}

.scrollbar-thumb-zinc-800::-webkit-scrollbar-thumb {
  background: #27272a;
}

.scrollbar-track-transparent::-webkit-scrollbar-track {
  background: transparent;
}

/* Dark Mode Fixes for BlockNote */
.dark .ZYNC-editor-overrides .bn-editor {
  /* Ensure text is readable */
  --bn-colors-editor-text: var(--foreground);
  --bn-colors-editor-background: transparent;
}

/* Fix for the white formatting toolbar/side menu in dark mode */
.dark .mantine-Paper-root,
.dark .mantine-Menu-dropdown,
.dark .mantine-Popover-dropdown {
  background-color: hsl(var(--popover)) !important;
  border-color: hsl(var(--border)) !important;
  color: hsl(var(--foreground)) !important;
}

.dark .mantine-ActionIcon-root:hover {
  background-color: hsl(var(--secondary)) !important;
}

/* Specific BlockNote overrides */
.ZYNC-editor-overrides .bn-block-content[data-content-type="heading"] {
  /* Restoring default margins to fix alignment with drag handle */
  /* margin-top: 1.5em; */
  /* margin-bottom: 0.5em; */
  font-family: inherit;
  font-weight: 700;
}

/* 
.ZYNC-editor-overrides .bn-block-content[data-content-type="paragraph"] {
   Restoring default margins and line-height to fix alignment with drag handle
   margin-bottom: 0.5em;
   line-height: 1.75;
} 
*/

/* Hide the default side menu trigger if it clashes, or style it */
.dark .bn-side-menu-trigger {
  color: hsl(var(--muted-foreground));
}

.dark .bn-side-menu {
  background-color: hsl(var(--card));
  border: 1px solid hsl(var(--border));
}

/* Make slash menu dark */
.dark .bn-slash-menu {
  background-color: hsl(var(--popover));
  border: 1px solid hsl(var(--border));
  color: hsl(var(--foreground));
}

.dark .bn-slash-menu-item[data-hovered="true"] {
  background-color: hsl(var(--secondary));
}

/* Center the placeholder text in the editor */
.ZYNC-editor-overrides .bn-editor[data-is-empty-placeholder="true"]::before {
  color: var(--muted-foreground) !important;
  opacity: 0.5;
  text-align: center;
  width: 100%;
}

/* Wave Animation */
@keyframes wave-flow {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

.animate-wave-flow {
  background-size: 200% 200%;
  animation: wave-flow 15s ease infinite;
}

/* Glowing cursor effect for placeholder */
.typing-cursor::after {
  content: '|';
  animation: blink 1s step-start infinite;
  color: hsl(var(--primary));
  margin-left: 2px;
}

@keyframes blink {
  50% {
    opacity: 0;
  }
}

/* Glowing text */
.text-glow {
  text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
}

/* Elegant Serif Font */
.font-serif-elegant {
  font-family: 'Merriweather', 'Georgia', 'Cambria', 'Times New Roman', serif;
}

/* Geometric Header Pattern */
.bg-geometric-elegant {
  background-color: #f3f4f6;
  opacity: 0.8;
  background-image: linear-gradient(30deg, #e0e7ff 12%, transparent 12.5%, transparent 87%, #e0e7ff 87.5%, #e0e7ff), linear-gradient(150deg, #e0e7ff 12%, transparent 12.5%, transparent 87%, #e0e7ff 87.5%, #e0e7ff), linear-gradient(30deg, #e0e7ff 12%, transparent 12.5%, transparent 87%, #e0e7ff 87.5%, #e0e7ff), linear-gradient(150deg, #e0e7ff 12%, transparent 12.5%, transparent 87%, #e0e7ff 87.5%, #e0e7ff), linear-gradient(60deg, #e9d5ff 25%, transparent 25.5%, transparent 75%, #e9d5ff 75%, #e9d5ff), linear-gradient(60deg, #e9d5ff 25%, transparent 25.5%, transparent 75%, #e9d5ff 75%, #e9d5ff);
  background-size: 40px 70px;
  background-position: 0 0, 0 0, 20px 35px, 20px 35px, 0 0, 20px 35px;
}

/* Paper Texture */
.bg-paper-texture {
  background-color: #fdfbf7;
  background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.05'/%3E%3C/svg%3E");
}

/* Navy Sidebar */
.bg-navy-900 {
  background-color: #0f172a;
  /* Slate 900 */
}

/* Make editor content match formal aesthetic */
/* Make editor content match formal aesthetic - target main text elements instead of * */
.ZYNC-editor-overrides p,
.ZYNC-editor-overrides h1,
.ZYNC-editor-overrides h2,
.ZYNC-editor-overrides h3,
.ZYNC-editor-overrides li {
  font-family: 'Merriweather', 'Georgia', 'Cambria', 'Times New Roman', serif;
}

/* Ensure placeholder is elegant and serif */
.ZYNC-editor-overrides .bn-editor[data-is-empty-placeholder="true"]::before {
  font-family: 'Merriweather', 'Georgia', 'Cambria', 'Times New Roman', serif !important;
  font-style: italic;
  color: #94a3b8 !important;
  /* Slate 400 */
}

/* Dark Mode Support for Custom Surfaces */
.dark .bg-geometric-elegant {
  background-color: #000000;
  opacity: 0.5;
  /* Reduce opacity as requested */
  /* We keep the pattern but the background color changes */
}

.dark .bg-paper-texture {
  background-color: #171717;
  /* neutral-900 */
  border-color: #262626;
  /* neutral-800 */
}

/* Update placeholder color for dark mode */
.dark .ZYNC-editor-overrides .bn-editor[data-is-empty-placeholder="true"]::before {
  color: #525252 !important;
  /* neutral-600 */
}

/* Update editor text color for dark mode - targeting specific elements to avoid layout issues */
.dark .ZYNC-editor-overrides p,
.dark .ZYNC-editor-overrides h1,
.dark .ZYNC-editor-overrides h2,
.dark .ZYNC-editor-overrides h3,
.dark .ZYNC-editor-overrides li,
.dark .ZYNC-editor-overrides span {
  color: #e5e5e5;
  /* neutral-200 */
}